# MVP 需求文件 (Requirements)

**更新日期**: 2025-12-12 (Rev 2)

## 1. 核心目標 (Core Objective)
打造一個具備**服務不中斷轉錄機制**與**沉浸式桌面體驗**的 AI 會議助理 MVP。系統能從使用者本機捕獲音訊，持續進行即時轉錄與智慧潤飾，並透過極簡、不干擾的浮動視窗顯示雙語字幕。

## 2. 第一性原理分析 (First Principles)
- **根本需求**: 使用者需要一個「可靠的數位耳朵」，能不遺漏、不間斷地捕捉對話，並將其轉化為乾淨、易讀、可用的文字記錄。核心是**持續性**、**可讀性**與**低干擾性**。
- **物理限制**:
    - **螢幕空間**: 使用者的螢幕空間有限，字幕工具不應遮擋主要工作內容（如投影片、視訊會議畫面）。
    - **操作直覺**: 在會議中，使用者沒有多餘的心力去尋找複雜的控制按鈕。

## 3. MECE 使用者情境分析 (User Scenarios)

### 主要情境 (Happy Path):
- **情境 H-1 (啟動與設定)**: 使用者啟動桌面應用，主畫面僅顯示一個乾淨的字幕條。點擊齒輪圖示，在彈出的設定視窗中完成音訊來源、語言與 Initial Prompt 設定。
- **情境 H-2 (開始轉錄)**: 使用者將滑鼠移入字幕條，Title Bar 浮現。點擊 Title Bar 上的「錄製」按鈕，或直接點擊字幕區域中央的「開始」圖示，系統開始轉錄。
- **情境 H-3 (沉浸式觀看)**: 使用者將滑鼠移開，Title Bar 自動隱藏，僅剩半透明背景的字幕懸浮於螢幕上，不遮擋視線。
- **情境 H-4 (暫停/停止)**: 使用者再次點擊字幕區域（或 Title Bar 按鈕）暫停或停止錄製。

## 4. UI/UX 與進階設定規範 (Updated)

### 4.1 主視窗 (Main Window - The Stage)
- **極簡設計**: 預設狀態下僅顯示轉錄內容 (字幕)，背景半透明。
- **Title Bar (標題列/控制列)**:
    - **顯示邏輯**: **預設隱藏**。當滑鼠游標移入主視窗區域時，Title Bar 滑入或淡入顯示；移出時隱藏。
    - **內容**:
        - App 名稱 (可拖曳區域)。
        - **錄製/停止按鈕**: 快速控制錄音狀態。
        - **設定按鈕 (齒輪圖示)**: 點擊開啟設定視窗。
        - **視窗控制**: 最小化、最大化、關閉。
- **字幕區域 (Content Area)**:
    - **點擊互動**: 支援點擊字幕區域切換 錄製/暫停 (類似 YouTube 播放器體驗)，並伴隨視覺回饋 (如 Play/Pause 圖示一閃而過)。
    - **樣式**:
        - 背景透明度可調 (僅影響背景色，文字不透明)。
        - 字體大小可調。
        - 顯示行數可調 (透過 CSS max-height 或 JS 邏輯)。

### 4.2 設定視窗 (Settings Window - The Control Room)
- **觸發**: 點擊 Title Bar 上的「齒輪」按鈕開啟。
- **功能收納**: 包含所有設定項目，主視窗不再顯示這些雜項。
    - **音訊來源**: 麥克風 / 系統音訊。
    - **語言設定**: 單雙語模式、語言互換。
    - **外觀設定**: 字體大小、背景透明度、字幕行數。
    - **進階設定**: Initial Prompt 輸入框 (支援儲存)。

## 5. 資料結構與狀態管理 (Data & State)
- **Global State**:
    - `isRecording`, `isHovered` (UI state)
    - `config`: { `sourceLang`, `targetLang`, `fontSize`, `opacity`, `displayLines`, `initialPrompt` }
